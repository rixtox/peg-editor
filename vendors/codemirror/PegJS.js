CodeMirror.defineMode("pegjs",function(a){function c(a){return a.match(/^[a-zA-Z_][a-zA-Z0-9_]*/)}var b=CodeMirror.getMode(a,"javascript");return{startState:function(){return{inString:!1,stringType:null,inComment:!1,inChracterClass:!1,braced:0,lhs:!0,localState:null}},token:function(a,d){if(a&&(d.inString||d.inComment||'"'!=a.peek()&&"'"!=a.peek()||(d.stringType=a.peek(),a.next(),d.inString=!0)),d.inString||d.inComment||!a.match(/^\/\*/)||(d.inComment=!0),d.inString){for(;d.inString&&!a.eol();)a.peek()===d.stringType?(a.next(),d.inString=!1):"\\"===a.peek()?(a.next(),a.next()):a.match(/^.[^\\\"\']*/);return d.lhs?"property string":"string"}if(d.inComment){for(;d.inComment&&!a.eol();)a.match(/\*\//)?d.inComment=!1:a.match(/^.[^\*]*/);return"comment"}if(d.inChracterClass)return a.match(/^[^\]\\]+/)?void 0:a.match(/^\\./)?void 0:(a.next(),d.inChracterClass=!1,"bracket");if("["===a.peek())return a.next(),d.inChracterClass=!0,"bracket";if(a.match(/^\/\//))return a.skipToEnd(),"comment";if(d.braced||"{"===a.peek()){null===d.localState&&(d.localState=b.startState());var e=b.token(a,d.localState),f=a.current();if(!e)for(var g=0;g<f.length;g++)"{"===f[g]?d.braced++:"}"===f[g]&&d.braced--;return e}return c(a)?":"===a.peek()?"variable":"variable-2":-1!=["[","]","(",")"].indexOf(a.peek())?(a.next(),"bracket"):(a.eatSpace()||a.next(),null)}}},"javascript");